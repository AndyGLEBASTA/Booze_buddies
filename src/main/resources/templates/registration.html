<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<!--      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">-->
<link rel="stylesheet" type="text/css" th:href="@{/page.css}" href="../../../static/page.css"/>
<head>
    <title>Spring Security Example </title>
</head>
<script>
    function verifyPassword() {
        var pw = document.getElementById("password1").value;
        var pw1 = document.getElementById("password2").value;
        var user = document.getElementById("username").value;
        //check empty password field
        if(user == "") {
            document.getElementById("message").innerHTML = "**Fill_the_username_please!";
            return false;
        }
        if (! /^[a-zA-Z0-9_]+$/.test(user)) {
            document.getElementById("message").innerHTML = "**Only_letters,_numbers_and_'_'_in_username!";
            return false;
        }
        if (! /^[a-zA-Z0-9]+$/.test(pw)) {
            document.getElementById("message").innerHTML = "**Only_letters_and_numbers_in_password!";
            return false;
        }

        if(pw == "") {
            document.getElementById("message").innerHTML = "**Fill_the_password_please!";
            return false;
        }

        //minimum password length validation
        if(pw.length < 4) {
            document.getElementById("message").innerHTML = "**Password_length_must_be_atleast_4_characters";
            return false;
        }

//maximum length of password validation
        if(pw.length > 15) {
            document.getElementById("message").innerHTML = "**Password_length_must_not_exceed_15_characters";
            return false;
        }
        if(pw != pw1) {
            document.getElementById("message").innerHTML = "Not_confirmed!";
            return false;
        }
        else {

        }
    }
</script>

<body>
<div class="vladmaxi-top">
    <a href="http://vladmaxi.net" target="_blank"></a>
    <span class="right">
        </span>
    <div class="clr"></div>
</div>
<div id="login">
    <fieldset class="clearfix">
        <div th:if="${param.error}">
            Invalid username and password.
        </div>
        <div th:if="${param.logout}">
            You have been logged out.
        </div>
        <!--<h3>Add new user</h3>-->
        <div th:switch="${message}">
            <p th:case="0">${message}</p>
            <p th:case="*"></p>
        </div>
    </fieldset>
    <form class="form-profile" th:action="@{/registration}" method="post" th:name="profile" th:id="profile" onsubmit ="return verifyPassword()" >
        <span id = "message" style="color:red"> </span> <br><br>
        <br>
        <br>
        <div><label for="username"> Login : <input class="fontawesome-user" id = username type="text" name="username"/> </label></div>
        <div><label for ="password1">  Password: <input class="fontawesome-lock" id = password1 type="password" name="password"/> </label></div>
        <div><label for ="password2">  Confirm password: <input class="fontawesome-lock" id = password2 type="password" name="password1"/> </label></div>
        <br>
        <INPUT class="fontawesome-user" required name="Roleee" type="radio" id="Choice1" value="USER">
        Buddy
        <br>
        <INPUT class="fontawesome-user" required name="Roleee" type="radio" id="Choice2" value="BUSINESS">
        Business
        <br>
        <div><input type="submit" value="Sign in">
            <!--    <input type="hidden" th:field="${buddy.buddyId}" id="buddyId" th:data-buddy="${buddy.buddyId}"></div>-->
        </div>
    </form>
</div>
</body>
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>-->
<!--<script type="text/javascript">-->
<!--    $(document).ready(function () {-->
<!--        $("#form-profile").change(function () {-->
<!--            $("#buddyId").val($("#form-profile form").attr("data-buddy"));-->
<!--        });-->
<!--    });-->
<!--</script>-->
</html>

